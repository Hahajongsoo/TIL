# 데이터 모델링 개념
데이터 모델링은 엔터프라이즈 비즈니스 활동의 결과인 데이터를 모형과 같이 구체적으로 정의해서 조직내에서 비즈니스 활동에 참여하는 모든 직원이 한 눈에 보고 이해할 수 있는 그림으로 완성한다.
## 데이터를 모델링하는 이유

### 모델링을 통해 엔터프라이즈에 대한 공통된 이해
![](images/Pasted%20image%2020221208152425.png)
전체적인 엔터프라이즈에 대한 복잡한 개념을 한 눈에 볼 수 있게 구체화 시킨 것이 곧 데이터 모델이고 업무활동 모델이다. 데이터 모델링은 엔터프라이즈 비즈니스를 이해하는 중요한 도구로 복잡한 엔터프라이즈를 체계적으로 이해할 수 있도록 도움을 준다.

### 모델링의 장점
- 업무활동에 관한 혁신적이고 발전적인 사고를 지원
- 업무담당자나 정보시스템 담당자가 같은 시각에서 이해하기 용이함
- 비즈니스가 변화할 경우, 모델에 반영할 수 있는 기본 틀을 제공하여 비즈니스에 대한 유연성을 확보할 수 있다.
- 하향식(Top-down) 분석에 의한 공학적 접근을 지원 

### 데이터 아키텍처-데이터모델-데이터베이스 스키마
![](images/Pasted%20image%2020221208153035.png)
데이터 모델링은 데이터 관점에서 봤을 때, 최상위 데이터 아키텍처로 부터 기업의 데이터에 대한 틀을 갖추고, 그것을 통해서 개념 모델, 논리 모델로 데이터 모델은 완성이 된다. 그리고 개념 모델과 논리 모델을 통해서 물리 모델을 설계 단계에서 완성함으로써 시스템 지향적인 데이터 모델이 완성이 된다. 데이터 모델은 데이터 베이스를 완성하는 근거가 되고 데이터아키텍처를 데이터 모델을 통해서 일관성 있는 데이터베이스가 만들어질 수 있고 데이터베이스가 전략을 실행할 수 있는 데이터베이스로써의 존재가치를 확인할 수 있다.
데이터 아키텍처를 데이터베이스와 연결시켜줄 수 있는 데이터 모델은 엔터프라이즈의 데이터를 형상화시켜서 저장하는 가장 중요한 도구로 인식할 수 있다.

### 엔터프라이즈 정보 모델
![](images/Pasted%20image%2020221208153623.png)
정보모델은 두 가지 모델로 형성 된다.
- 엔터프라이즈의 목표를 달성하기 위해서 끊임없이 해나가는 비즈니스 활동 즉 프로세스 모델이 형성 된다.
- 프로세스 모델은 프로세스를 수행함으로써 얻게되는 데이터 모델을 형성하게 된다. 
- 두 모델은 상호작용 관계로 볼 수 있다. 독립적으로 존재하지만 서로의 작용성을 가지고 서로의 존재가치를 검증하고 확인하게 된다. 

### 엔터프라이즈 업무활동 모델
![center|500](images/Pasted%20image%2020221208153934.png)
- 업무활동 모델링(Activity Modeling)
	- 요구되는 업무활동 도출 및 정의
	- 업무활동을 업무기능과 프로세스로 분할(Decomposition)하고 이벤트간 의존관계(Dependency)로 연결
	- 최종적으로 태스크와 프로그램으로 변환됨

### 엔터프라이즈 데이터 모델
![center|400](images/Pasted%20image%2020221208154227.png)
- 데이터 모델링(Data Modeling)
	- 기업 데이터 도출 및 정의
	- 관심있는 대상이나 사건을 엔티티 유형 및 관계로 표현
	- 최종적으로 데이터베이스 구조로 변환됨

### 엔터프라이즈 상호작용 모델
업무활동 모델과 데이터 모델의 검증을 위한 용도로 만든다.
![center|400](images/Pasted%20image%2020221208154526.png)
- 상호작용 모델링(Ineraction Modeling)
	- 데이터 및 업무활동에 대한 상호작용성을 CRUD 매트릭스로 표현
	- **데이터 및 업무활동 모델에 대한 품질 점검**
	- 묶음화(Clustering)를 통해 비즈니스 시스템 및 데이터베이스 정의

데이터 모델이나 프로세스 모델을 논의 할 때 별도로 논의 되는 것이 아니라 서로의 작용성을 검증하고 분석함으로써 각각의 모델에 대한 완성도를 높인다.

엔터프라이즈 정보 모델은 위의 세 모델이 전부 정의 되어야 정보 모델이 완성 됐다고 볼 수 있다.

## 데이터 모델 표기법(Notation)

### 엔티티 관계(ER) 모델링 표기법 - Chen 표기법
![center|500](images/Pasted%20image%2020221208155013.png)
- 1976년 Peter Chen이 고안
- 엔티티 유형을 상자로 관계 유형을 다이아몬드로 표기하고 내부에 이름을 부여
- 관계비(Cardinality)를 1, n으로 표시
- 상부 유형(Supertype)과 하부 유형(Subtype) 개념이 없음

### 엔티티 관계(ER) 모델링 - 정보공학 표기법
![](images/Pasted%20image%2020221208155414.png)
- 1970년대 후반에 Clive Finkelstein과 James Martin에 의해 고안
- 엔티티 유형을 상자로 관계유형을 실선으로 표기, 엔티티 유형 명을 상자 안에 표기하고 관계유형 명은 실선 위와 아래에 표기
- 관계비(Cardinality)와 선택성(Optionality)를 까마귀 발 모양과 동그라미로 표기
- 상부유형과 하부유형의 개념과 배타적 관계 표기가 있다.

### 엔티티 관계(ER) 모델링 - Ellis-Barker 표기법
![](images/Pasted%20image%2020221208155658.png)
- 1980년대 초반에 Harry Elis와 Richard Barker가 고안
- 엔티티 유형을 상자로 관계 유형을 실선(mandatory)과 점선(optional)으로 표기
- 관계비(Cardinality)는 까마귀 발 모양으로 표기
- 상부유형과 하부유형 개념 - 부모 엔티티 유형과 자식 엔티티 유형

### 엔티티 관계(ER) 모델링 - IDEF1X(IDEF1 extended) 표기법
![](images/Pasted%20image%2020221208155909.png)
- 미공군 ICAM(Intergrated Computer-Aided Manufacturing) 정의어(IDEF) 방법론의 일부 - IDEF0(function modeling), IDEF1(data modeling)
- 엔티티 유형을 상자로 관계 유형을 실선(mandatory)과 점선(optional)으로 표기
- 관계비와 선택성 표기가 복잡
- 식별 관계를 통해 부모 엔티티 유형과 자식 엔티티 유형 및 관계 유형 정의

### 엔티티 관계(ER) 모델링 - UML 표기법
![](images/Pasted%20image%2020221208160307.png)
- 객체지향 분석 및 설계 방법론 - Unified Modeling Language(UML)
- 객체 유형을 클래스 다이어그램으로 표시
- 관계비를 1, 1...* 으로 표시
- 일반화와 특수화 개념을 통해 상부클래스와 핸드클래스 정의, 현실세계에 적합한 모델링 기법이라고 표현

## 엔티티 관계 모델링과 객체 모델링 비교

### ER 모델링과 Object 모델링 비교
데이터는 비즈니스 활동의 결과인 개체, 즉 엔티티라는 개념과 실존적인 존재로 행위를 포함하는 객체, 오브젝트로 인식하는 두 개념이 있다.
![](images/Pasted%20image%2020221208161008.png)

### 객체 모델링 특징
![](images/Pasted%20image%2020221208164743.png)
- 실 세계에서 발생하는 객체 특성과 구조를 그대로 표현
- 다양한 어플리케이션 분야에서 객체(데이터) 상태 변화를 명확히 표현
- 의미적(Semantic)관계를 가지는 데이터 모델링을 통해 견고한 데이터베이스 구조 설계

#### 객체 모델링 개념 - 응축(Encapsulation)
객체는 데이터를 변화시키는 행위들이 함께 정의되어 결합되어 있다. 객체는 데이터의 상태를 변화시키는 행위와 결합된 모습으로 실 세계에 있는 실존적인 물체가 생겨남을 의미한다.
객체와 객체 간에 서로의 관계성을 통한 메시지로 서로 객체가 존재하고 작용함을 표현한다.
![300](images/Pasted%20image%2020221208164953.png)

### 객체 모델링 개념 - 클래스와 상속(Inheritance)
![](images/Pasted%20image%2020221208165249.png)
- 클래스
	- 구조(속성)와 행위(메소드)를 공유하는 비슷한 개념을 가진 객체 군을 표현, 모임을 기술하는 도구
	- 하나의 클래스는 클래스 내부에 객체를 위한 데이터 구조와 메소드에 대한 구현 세부사항 기술
	- 상위 클래스 속성과 메소드를 하위 클래스에서 공유
여기서 차를 상위 클래스, 주 유형(Supertype)이라고 하고 버스, 오토바이, 승용자 등으 하위 클래스, 부 유형(Subtype)이라고 한다.

#### 예시
![](images/Pasted%20image%2020221208165545.png)

객체 모델링은 현실에 맞는 객체를 발견해서 그것을 통해 모델링을 하는 것으로 세상을 정확하게 표현하는 것이 장점이다. ER 모델에서도 상세한 정도를 맞춰감으로써 객체와 개념이 비슷해져가고 있다.

# 데이터 모델 구성 요소

## 엔티티, 엔티티 유형 정의하기

### 엔티티, 엔티티 유형이란?
엔터프라이즈가 데이터로 저장하고 비즈니스 활동에 재사용하고자 하는 대상이 되는 사람, 장소, 사건, 사물 그리고 개념 그 자체에 대한 범주
- 엔티티
	- 비즈니스 각각 개체
	- 데이터로 관리해야 하는 조직에 관련된 개체 하나 하나를 의미
- 엔티티 유형
	- 각각 개체가 가지는 공통 의미에 대한 정의
	- 동일한 정의를 가지고 공통된 속성과 관계 군을 가지는 모든 엔티티 집합

### 엔티티 유형이 될 수 있는 요건
- 기업에 유용한 정보를 표현할 수 있어야 한다. 비즈니스전략계획을 달성하기 위해서 수행해야하는 비즈니스 활동에 대한 결과로써 표현이 돼야한다.
- 비즈니스 환경속에서 서술적인 특성을 가져야한다. 비즈니스 상에서 사용되고 있는 용어로 서술 가능해야한다.
- 하나의 존재가 다른 존재와 구별될 수 있도록 유일하게 식별될 수 있을 것, 속성 중 하나가 유일하게 식별할 수 있어야 한다. 
- 적어도 다른 하나의 엔티티 유형과 연관성을 가질 것

### 엔티티 유형 명명 규칙
- 단수형 명사를 사용
- 형용사에 의한 서술도 가능하나 복합 명사 사용 권장
- 현업 사용자에게 친숙한 용어로 명명
- 의미가 명확하면서도 짧은 이름으로 명명
- 약어 사용은 금할 것
- 동의어가 다수일 경우, 공식적으로 사용하는 이름을 선택

### 엔티티 유형 도형 표기
![400](images/Pasted%20image%2020221208170931.png)
주제 영역은 이중 선으로 표현한다.

### 엔티티 유형 정의 예시
- 엔티티 유형 명: 고객
- 정의: 당사와 거래를 하고 있는 개인 및 법인
- 제약조건: 당사의 상품 및 제품을 과거 3년 이내에 구매한 사실이 있는 개인 또는 법
엔티티 유형에 대한 정의를 통해서 데이터 모델이 완성된 후 관계 유형과 같이 표현이 될때 제약 조건은 데이터베이스 설계 조건에 대한 정의로 사용될 수 있다.

## 관계, 관계 유형 정의하기
### 관계 관계 유형이란?
- 관계
	- 두 엔티티를 연결하여 인식하고자 하는 비즈니스적 이유
- 관계 유형
	- 두 엔티티 유형 간의 동일한 형태로 나타나는 관계들의 집합

### 관계 유형 도출 기준
- 대상 자료
	- 정보전략계획(ISP) 산출물의 정보 아키텍처
	- 정보요구(Information Need) 및 수집한 현업 사용 장표
- 도출 기준
	- 현업 사용 동사형 어휘
	- 한 장표에 나타나는 실체 유형들
	- 관계 유형 비교 분석
- 명명 규칙
	- 두 개의 관계 요소 명으로 표기
	- 사용자 용어 사용
	- 방향성에 따라 능동/수동형으로 표현
	- 방향성을 고려하여 시계방향으로 표현

### 관계 유형 방향성 - 관계 요소
모든 관계는 관련되는 두 엔티티 중 어떤 엔티티가 주체로 참여하는가에 따라 관계에 대한 의미를 결정하게 된다. 이를 관계 유형에 대한 방향성이라고 한다.
- 관계 요소
	- 참여 주체 엔티티를 기준으로 각각의 관계에 대한 의미를 가짐
	- 양방향의 관계 요소가 하나의 관계 유형을 구성
- 예
	- 강사는 학생을 가르친다.
	- 학생은 강사로부터 배운다.

### 관계 연결과 관계 군
- 관계 연결
	- 관련있는 두 엔티티 유형 내의 엔티티 끼리 연결
	- 한 엔티티가 여러 엔티티에 관계를 맺을 수 있고, 그 내부에서 관계를 맺고 있지 않은 여러 엔티티가 존재함으로써 이를 심도있게 분석하기 위한 용도로 분석한다.
- 관계 군
	- 특정 실체를 중심으로 다른 엔티티 유형 내의 엔티티 간의 연결되는 관계 연결 집합
	- 한 엔티티 내에 있는 서브엔티티를 도출해내는데 도움을 준다. 
관계 연결과 관계 군은 심도있는 엔티티 유형 분석과 관계 유형 분석을 통해 데이터 모델이 정련화 되는 과정을 거친다. 관계 유형을 도출하는 기준 뿐만 아니라 관계에 대한 연결성을 보다 깊이 분석해봄으로써 군을 형성하고 분석해낼 수 있다. 

## 속성, 속성 유형 정의하기

### 속성 속성 유형이란?
- 속성 값
	- 엔티티의 성격을 설명하는 더 이상 분할될 수 없는 최하 단위의 각 항목 값
- 속성 유형
	- 동일한 형태 및 의미를 표현하는 속성 값의 유형
![500](images/Pasted%20image%2020221208173106.png)

### 속성 유형 도출 기준
- 도출 기준
	- 실체 유형에 대해서 무엇을 알고 싶은가?
	- 수집한 현업 사용 장표의 항목 분석
	- 기존 전산 시스템의 파일 항목 분석
- 명명 규칙
	- 현업 표준 용어 사용
	- 표준 형태
		- 엔티티 유형 명 - 수식어 - 도메인 명
	- 소유격 사용 배제
	- 약어 사용 배제
	- 핵심 단어로 구성

### 속성 유형 도메인 명 부여
- 도메인
	- 여러 속성 유형에서 사용되는 속성 값의 범위 유형
- 도메인 명
	- 이름, 주소, 설명
	- 번호, 금액, 길이, 무게, 속도, 부피, 수량, 비율
	- 일자, 시각, 기간, 요일

### 속성 유형 종류
- 기초 속성 유형(Basic Attribute type)
	- 외부로부터 데이터가 제공되어야 유지됨
	- 예: 고객 성명, 고객 생년월일 등
- 추출 속성 유형(Derived Attribute type)
	- 기존의 속성 유형으로부터 가공 처리를 통해 생성 및 유지
	- 예: 합계, 평균
- 설계 속성 유형(Designed Attribute type)
	- 시스템의 효율성을 도모하기 위해 설계자가 임의로 구성하는 속성 유형
	- 예: 고객번호

### 속성 유형 중복(Redundancy) 배제
속성 유형은 모델 내에서 오직 하나의 엔티티 유형에 속해야 한다.
속성 유형 중복을 배제하기 위해서는 전적으로 엔티티 유형 내에서 엔티티 유형의 성격을 나타내는 속성 유형을 정의하는 것이 바람직하다. 
![600](images/Pasted%20image%2020221208174144.png)

## 식별자 정의하기

### 식별자란?
- 한 엔티티 유형 내의 특정 엔티티를 구분할 수 있는 속성 유형 또는 관계 유형
	- 주 식별자(Primary Identifier)
	- 부 식별자(Candidate Identifier)

### 식별자 구성 기준
- 하나 또는 둘 이상의
	- 속성 유형
	- 관계 요소
	- 속성 유형과 관계 요소의 결합
- 단, 관계 유형이 식별자로 사용될 경우에는 상대 관계 요소의 성격이 다음과 같아야 한다.
	- 선택성 - 필수(항상, mandatory)
	- 관계비 - 하나(1)

### 식별자에 대한 비즈니스 규칙
- 한 엔티티 유형 내의 엔티티를 유일하게 구분할 수 있어야함
- 모든 엔티티 유형은 반드시 하나 이상의 식별자를 보유
- 각 엔티티 유형은 복수 개의 식별자를 보유
- 식별자를 구성하는 속성 유형 및 관계 요소의 선택성은 필수
- 식별자로 사용되는 관계 요소는 상대 관계비가 반드시 1

### 단일 및 복합 속성 유형 식별자
![400](images/Pasted%20image%2020221208175001.png)
식별자를 복합 속성 유형을 통해서 만들어낼 때에는 기초 속성 유형이 갖고 있는 의미를 변화시키지말고 그대로 결합시켜서 식별자를 구성해야한다. 그렇지 않으면 중복이 발생할 수 있다.

### 속성 유형과 관계 요소 결합 식별자
![500](images/Pasted%20image%2020221208175251.png)
보통 주 엔티티 유형과 대상 엔티티 유형이 둘다 mandatory일 경우에 사용하게 된다. 관계 유형 식별자(Relationship Identifier)라는 용어를 사용한다.

### 관계 요소와 관계 요소 결합 식별자
![500](images/Pasted%20image%2020221208175512.png)
두 엔티티 유형의 관계가 서로 복잡한 경우(n:m) 이 두 엔티티 유형과 관계가 있는 엔티티 유형이 서로의 식별자를 결합한 식별자를 구성할 수 있다.

## 구조적 규칙 정의하기

### 비즈니스 규칙이란?
엔터프라이즈가 비즈니스 활동을 수행해나가고 그 결과인 데이터를 지속적으로 관리해 나갈때, 품질 높은 수행결과를 얻기 위해 규칙이 요구 된다. 비즈니스를 수행하고 그 결과를 관리하기 위한 규칙을 비즈니스 규칙이라고 하고 활동에 대한 규칙을 행위적 규칙이라고 한다. 데이터에 대한 규칙을 구조적 규칙이라고 한다. 데이터의 무결성을 보장하기 위한 무결성 규칙과 데이터가 생성되는 과정을 관리할 수 있는 파생 규칙이 존재한다. 
![](images/Pasted%20image%2020221208182001.png)

### 구조적 규칙이란?
- 데이터의 영속적, 안정적 성격을 유지할 수 있도록함
- 엔티티 관계도의 구성 요소에 종속하여 정의 될 수 있다.
	- 엔티티 유형, 관계 유형, 속성 유형
- 업무활동(프로세스)와는 독립적으로 데이터에 적용되는 비즈니스 규칙
- 구조적 규칙은 가능한 한 중복성을 배제

### 엔티티 유형 파생, 무결성 규칙
- 파생 규칙(Derivation Rule)
	- 데이터 모델의 상태에 의해서 특정 엔티티를 생성하거나 삭제하는 조건
	- 예: 신용카드 엔티티 유형의 연체회수 속성값이 3이 되면 불량 거래자 엔티티 생성
- 무결성 규칙(Integrity Rule)
	- 데이터 모델이 유지되기 위하여 필요한 특정 엔티티 존재 제약 조건
	- 예: 고객 엔티티 유형의 등급 속성값이 우수인 경우 해당 고객의 연체 엔티티가 존재하지 않아야 함 \

### 관계 유형 파생, 무결성 규칙
- 파생 규칙
	- 데이터 모델의 상태에 의하여 특정 관계를 연결하거나 단절하는 조건
	- 예: 여신 총 금액이 천만원 이상이 되면 해당 영업점의 여신담당 책임자에게 연결, 직원 상태가 휴직 또는 퇴직으로 설정되면 참여중인 프로젝트와의 관계를 단절
- 무결성 규칙
	- 데이터 모델이 유지되기 위하여 필요한 특성 관계의 연결 제약 조건
	- 예: 한 고객은 세금우대저축상품 계좌를 하나 이상 보유할 수 없다. 단체 예약은 대상 고객이 10인 이상이어야 한다.

### 속성 유형 파생, 무결성 규칙
- 파생 규칙
	- 데이터 모델의 상태에 의하여 특정 속성 값을 설정하는 규칙
	- 예: 고객 등급이 우수 고객이면 수수료 = 거래금액x수수료율x(100-우수고객할인울)%, 청구 총액 = SUM(해당 청구 내역의 청구 금액)
- 무결성 규칙
	- 데이터 모델이 유지되기 위하여 필요한 특정 속성값의 유지 조건
	- 예: 일반 고객의 신용여신한도액은 천만원을 초과할 수 없다. 성별 속성 값은 남 또는 여 이어야한다.

## 속성값 정의하기

### 속성 유형 값 정의
- 기초 속성 유형(Basic Attribute type)
	- 외부객체로부터 데이터 값을 직접 제공
	- 예: 고객 성명, 고객 생년월일 등
- 추출 속성 유형(Derived Attribute type)
	- 기존의 속성 유형으로부터 가공 처리를 통해 생성 및 유지
	- 예: 수수료 = 거래금액x수수료율x(100-우수고객할인울)%, 청구 총액 = SUM(해당 청구 내역의 청구 금액)
- 설계 속성 유형(Designed Attribute type)
	- 시스템의 효율성을 도모하기 위해 설계자가 임의로 구성하는 속성 유형
	- 기존 속성 유형을 결합하여 설계한다면 기존 개념이 흐트러지지 않도록 그 값을 그대로 사용한다.
	- 예:  고객번호 = 지역코드,생년월일,접수번호

### 코드 속성 유형에 대한 유의점
- 코드의 진정한 의미는 무엇인가?
- 복합 속성이 아닌가?
- 복합 속성인 경우 분할 된 단위의 의미는 무엇인가?
- 코드 값의 정의는 누가, 어떻게 하는가?
- 사용자에게 이해되고 유용하게 사용되는가?
- 모든 코드 값이 유효한가?
- 기존 시스템의 잔유물이 아닌가?

### 코드/복합 속성 유형 정의 지침
- 복합된 단위의 의미를 분석
- 복합된 각 단위 별 속성 유형 도출
- 다음 사항이 불확실한 경우에는 코드 속성 유형을 배제
	- 사용자 즉시 이해
	- 허용 값의 범위
	- 설정 목적 및 용도
	- 

### 복수 값 속성 유형 분할
- 특정 엔티티에 대한 속성 유형의 값이 둘 이상 나타나는 경우 이 속성 유형을 분할하여 다른 엔티티 유형으로 독립
- 예: 사원(엔티티 유형 - 홍 길동), 구사 언어(속성 유형 - 영어, 일어, 불어, 중국어)
![500](images/Pasted%20image%2020221208183936.png)

# 개념, 논리, 물리 데이터 모델

## 개념, 논리, 물리 데이터 모델 구별하기

### 데이터 아키텍처와 개념, 논리, 물리 데이터 모델 연계
![](images/Pasted%20image%2020221215142115.png)

정보전략계획을 통해 데이터 아키텍처를 수립하고 데이터 아키텍처를 클러스터링해서 비즈니스시스템과 데이터스토어를 정의한다. 비즈니스 시스템과 데이터 스토어는 데이터 모델링으로 접근할 수 있는 모델로써 비즈니스 영역을 만들었고 그 영역을 통해 데이터 모델을 분석한다. 데이터 아키텍처에 설정되어있는 비즈니스 영역에서 데이터를 선택하여 보다 상세하게 정의를 내린다. 
- 개념 모델은 서로의 엔티티 유형을 발견하고 엔티티 유형간의 관계를 정립함으로써, 전체적인 데이터를 조명해나가는 단계를 의미한다. 
- 이후 논리 데이터 모델로 더 상세하게 정의하여 전사적인 데이터 모델을 완성하게 된다. 
- 향후 물리적 데이터 모델로 데이터베이스를 구현하고 데이터베이스 스키마까지 연결하게 된다. 

### 개념(Conceptual) 데이터 모델
![](images/Pasted%20image%2020221215142604.png)

- 정립돼있는 데이터 모델을 보다 상세한 개념으로 분석해나가는 과정
- 표현하고자 하는 현실세계를 개념 모델로 형상화하여 데이터에 대한 관계 구조 정의
- 엔터프라이즈 비즈니스 활동 결과를 통한 표현을 중심으로 개념 모델 구성, 비즈니스 활동과 서로 상관성을 가지면서 완성도를 높여가고 품질을 보증하여 엔티티 유형의 존재를 검증한다.

### 논리(Logical) 데이터 모델
- 개념 데이터 모델을 논리적 구조로 정의하여 데이터베이스 관리 시스템과 결부된 논리 데이터 모델로 변환
- 논리 데이터 모델을 위한 요건
	- 개념 데이터 모델에 비즈니스 규칙, 엔티티 유형과 관계유형, 속성유형에 대한 파생 규칙 적용
	- 데이터 무결성을 검증하여 제약 조건 반영
	- 데이터 보안성을 검증하여 데이터 접근 경로 및 범위 지정
- 논리데이터 모델이 완성되었을 때는 데이터베이스 설계로 직접적으로 매핑되는 모델이 만들어진다. 이 순간 이미 데이터베이스 전체적인 구조가 결정된다.

### 물리(Physical) 데이터 모델
- 논리 데이터 모델을 데이터 구조화를 통해 지향하는 데이터베이스관리시스템에 적합한 물리 데이터 구조로 변환 
- 시스템을 고려한 논리적 설계를 해당 구현 가능한 물리적 데이터베이스 구조로 전환한고 DBMS의 조건에 맞게 성능을 최적화한 데이터 모델

논리 데이터 모델은 비즈니스 용어로 정립되지만, 물리 데이터 모델은 기술적 용어로 테이블, PK, FK와 같이 RDB에 합당한 용어로 정립된다. 개념, 논리 데이터 모델에서는 식별자라는 용어를 사용하지만, 물리 데이터 모델에서는 키라는 용어를 사용하게 된다.
개념 데이터 모델과 논리 데이터 모델은 보다 상세함에 정도가 한 단계 더 깊어지는 것으로 논리 데이터 모델이 완성된다. 논리 데이터 모델과 물리 데이터 모델은 깊이가 동일한 상태로 물리적 모델로 변환되는 것을 의미하고, 이것을 기반으로 데이터베이스가 만들어진다.
비즈니스를 실현하는 데이터 아키텍처가 개념 모델로부터 논리 모델, 물리 모델 그리고 데이터베이스로 실현됨으로써 비즈니스 전략을 일관성 있게 실현할 수 있다는 시스템 메커니즘을 확인할 수 있다. 즉, 데이터 아키텍처로부터 개념 모델이 만들어지는 과정의 일관성과 개념 모델을 통해 논리 모델이 만들어지는 일관성을 갖춰야하고 논리 모델은 물리 모델로 변환될 때 일관성을 유지해야한다. 

## 데이터 관계비, 선택성 정의하기

### 관계비(Cardinality)란?
- 관계에 참여하는 각 엔티티를 기준으로 나타나는 관계 군의 엔티티 연결 비율
- 종류
	- one to one
	- one to many
	- many to many

### 관계비 도출 
- 관계 문장의 구성
	- 각 주 엔티티 유형은 **오직 한 OR 하나 또는 여러** 대상 엔티티 유형에 관계한다.
- 예
	- 각 고객은 ~~오직 한~~ **하나 또는 여러** 주문을 발행한다.
	- 각 주문은 **오직 한** ~~하나 또는 여러~~ 고객으로부터 발행된다. 

![500](images/Pasted%20image%2020221215144803.png)

향후 이 숫자는 데이터를 접근해 갈 때, 접근 경로를 쉽게 이해할 수 있게 하고 한 데이터가 몇 개의 데이터에 연결되어있는지 아는 것으로 양적인 부분을 예측할 수 있다.

### 관계 선택성(Optionality)이란?
- 두 엔티티 유형의 엔티티간 관계 연결의 선택성
- 종류
	- 항상(Always, mandatory)
	- 때때로(Sometimes, optional)

### 관계 선택성 도출
- 관계 문장의 구성
	- 각 주 엔티티 유형은 **항상 OR 때때로** 대상 엔티티 유형에 관계한다.
- 예
	- 각 고객은 ~~항상~~ **때때로** 주문을 발행한다.
	- 각 주문은 **항상** ~~때때로~~ 고객으로부터 발행된다. 

![500](images/Pasted%20image%2020221215145302.png)

### 관계 문장 완성
- 관계비와 관계 선택성 통합
	- 각 주 엔티티 유형은 **오직 한 OR 하나 또는 여러** 대상 엔티티 유형에 **항상 OR 때때로** 관계한다.
- 예
	- 각 고객은 **여러** 주문을 **때때로** 발행한다.
	- 각 주문은 **오직 한** 고객으로부터 **항상** 발행된다.

![500](images/Pasted%20image%2020221215145529.png)

관계 선택성이 존재하는 경우 제대로 정의하는 것이 데이터 무결성에 도움을 주게 된다. 관계비는 향후 데이터에 접근하는 경우 관계되는 양을 파악할 수 있고, 데이터가 발생해나가는 과정을 예측할 수 있어 성능을 예측하는데 도움을 줄 수 있다.
관계비와 관계 선택성을 정의함으로써 엔티티 유형을 더 정련화하고 전체적인 데이터 모델을 검증해나가고 품질을 유지한다.

## 데이터 볼륨 정의하기

### 엔티티 유형 인스턴스 정의
- 엔티티 유형 인스턴스
	- 엔티티 유형의 제약 조건을 정의할 때 인스턴스 산정
- 정의 요소
	- 최소: 년 중 인스턴스 수가 제일 적은 시점 개수
	- 최대: 년 중 인스턴스 수가 제일 많은 시점 개수
	- 평균: 최소와 최대의 중간 값
	- 성장률: 년, 월, 일 단위의 데이터 발생 주기를 기준으로 기간 결정 후 성장 비율 계산, 급격한 데이터 생산으로 성장률의 단위가 초 단위 까지 짧아졌다.

### 엔티티 유형 정의 내역(예)
![](images/Pasted%20image%2020221215151010.png)

### 속성 유형 정의 내역(예)
![](images/Pasted%20image%2020221215151230.png)
- 데이터 모델링을 하는 과정이므로 특정 DBMS의 자료형태가 아닌 일반적인 자료형태로 정의됨

### 데이터 분산 분석을 위한 비즈니스 위치 분석
- 인스턴스를 계산했을 때, 어디에서 생성되고 어디에서 사용되는지 비즈니스 위치 분석이 중요하다. 

볼륨을 산정하는 이유는 향후에 이 시스템이 어떻게 확장해나갈 수 있는 지를 예측하고 사용량에 따른 퍼포먼스 예측을 하는데 도움이되기 때문이다. 
성장률과 인스턴스들이 관계비를 형성하고 그에 따른 데이터에 대한 포지셔닝을 의미하기 때문에 해당 관계를 따지는 기초적인 자료가 될 수 있다. 

## 데이터 무결성 검증하기

### 데이터 무결성(Integrity)이란?
- 엔티티 무결성
	- 엔티티 유형내 엔티티를 식별하는 데 사용되는 식별자 속성 유형이 모든 엔티티를 유일하게 식별할 수 있도록 항상 값이 존재
- 도메인 무결성
	- 기초 속성 유형: 기본 값, 허용 범위
	- 설계 속성 유형: 기초 속성 유형을 결합하는 설계 형식 정의
	- 추출 속성 유형: 파생 규칙으로 생성 알고리즘 정의
- 참조 무결성
	- 관계 유형을 통한 참조 관계일 때 식별자에 대한 유일성 보장과 존재를 위한 제한조건으로 정의

### 엔티티 무결성 조건
- 엔티티 유형 내 식별자인 속성 유형이 항상 유일한 값을 가지는지 확인
- 설계 속성 유형을 통한 식별자는 중첩(Duplicate) 가능이 없는지 확인
- 식별자인 속성 유형이 늘 값을 가지고 있는지 확인

### 도메인 무결성 조건
- 속성 유형은 지정된 데이터 유형을 만족하는 값을 가지는지 확인
- 기초 속성 유형: 기본 값, 허용범위
	- 허용 범위내 값이 존재하는지 확인 
- 설계 속성 유형: 설계 형식 정의
- 추출 속성 유형: 파생 규칙으로 생성 알고리즘 정의

### 참조 무결성 조건
- 엔티티를 생성할 때 대상 엔티티 유형의 관계비와 선택성 확인
- 삭제 규칙을 통해 데이터베이스 설계에 반영

데이터 무결성은 향후 데이터베이스 설계에 반영된다.

## 데이터 보안성 검증하기

### 엔터프라이즈 아키텍처 사용자 관점

![](images/Pasted%20image%2020221215154832.png)

엔터프라이즈 아키텍처에서 PEOPLE은 비즈니스를 수행하는 역할자로서 어떤 범위의 데이터를 어떻게 사용할 수 있는지를 정의한다. 어떤 위치에서 데이터를 사용하고 관리해야하는지를 6개의 깊이로 정의하고 있다.

### 사용자 역할과 접근 권한 분석
- 사용자 역할(Role)
	- Zachman의 Enterprise Architecture 관점으로 6단계로 분류
	- 사용자 유형에 따른 데이터 접근 범위 정의
		- 사용자가 선택할 수 있는 대상 -> 가시화
		- 사용자가 선택할 수 없는 대상 -> 숨기기
- 사용자 접근 권한
	- 사용자는 시스템 메커니즘을 통해서 데이터에 접근, 시스템 메커니즘 이외로 데이터에 접근할 수 없다.
	- 사용자의 데이터 오너쉽 및 스튜와드쉽에 따라 접근권한 정의
	- 데이터 생명주기 'C(생성)', 'R(참조)', 'U(변경), 'D(삭제)'로 표시
	- 

### 사용자 역할 분석
CRUD 매트릭스를 통해 분석한다.
![500](images/Pasted%20image%2020221215155820.png)





## 비즈니스 영역별 엔티티 관계(ER)도 완성하기

# 정규화와 데이터 모델 검증

## 1, 2, 3, 4차 정규화(Normalization)

## 정규화를 통한 데이터 모델 검증

## 엔티티 생명주기 분석을 통한 데이터 모델

# 엔터프라이즈 통합 데이터 모델

## 레퍼런스, 마스터 데이터 식별하기

## 업무 영역 모델에서 엔터프라이즈 데이터 모델로 통합하기

## 엔터프라이즈 통합 데이터 모델 관리하기

