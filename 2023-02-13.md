## 마스터 노드/ 워커 노드
- 기본적으로 디자인 패턴 중에는 Master-Slave라는 이름으로 되어있는 경우가 많다. 이 디자인 패턴은 worker들에 작업을 분배하는 것이다. 
![](images/Pasted%20image%2020230214120435.png)
- 클라이언트는 마스터에 서비스를 요청한다. 마스터는 해당 작업을 수행하지 않고 slave에 위임한다. 이는 쓰레드가 될 수도 있고, 프로세스가 될 수도 있고 네트워크에 있는 다른 노드가 될 수도 있다. 마스터는 결과를 모아서 클라이언트에게 반환한다. 


# etcd
- etcd는 분산 시스템 또는 클러스터의 설정 공유, 서비스 검색 및 스케쥴러 조정을 위한 일관된 분산형 키-값 저장소이다. 더욱 안전한 자동 업데이트를 지원하고, 호스트에 스케줄링되는 작업을 조정하며, 컨테이너에 대한 오버레이 네트워킹 설정을 지원한다.
- 클라우드 네이티브 애플리케이션은 etcd를 사용함으로써 더욱 일관성있는 업타입을 유지하고 개별 서버에 장애가 발생한 상황에서도 작동 상태를 유지할 수 있다. 애플리케이션은 etcd에서 데이터를 읽고 쓰며, 이를 통해 설정 데이터를 배포하여 노드 설정에 대한 이중화 및 복구 능력을 제공한다. 
- 쿠버네티스의 기본 데이터 저장소인 etcd는 모든 쿠버네티스 클러스터 상태를 저장하고 복제한다. etcd는 쿠버네티스 클러스터를 구성하는 필수 요소이므로 설정 및 관리에 대한 신뢰할 수 있는 접근 방식을 갖추는 것이 중요하다. 

# 선언형
- 어떤 정의에 따르면 프로그램이 어떤 방법으로 해야하는지를 나타내기 보다 무엇과 같은지를 설명하는 경우에 선언형이라고 한다. 명령형 프로그래밍 언어은 알고리즘을 명시하고 목표는 명시하지 않는데 반해 선언형 프로그램은 목표를 명시하고 알고리즘을 명시하지 않는다. 
- 선언형 프로그램에서는 그 언어의 표준 알고리즘으로 처리되는 자료 구조를 작성하거나 선언한다. 다른 언어와 같이 문법을 가지고 있고 언어의 단어들이 어떻게 결합되어야 하는지 설명하고 있으며, 어떻게 프로그램의 출력에 맞게 할 것인지를 언어의 문장으로 설명하는 의미구조가 있다.
- 명령형 프로그래밍 언어로 선언형 프로그램을 작성할 수도 있다. 라이브러리나 프레임워크 내부의 비선언형 부분을 캡슐화하여 표련하면 된다. 

# stateful vs stateless
애플리케이션을 비롯한 모든 항목의 상태란 해당 시점의 상황과 품질, 즉 존재 상태를 말한다. stateful과 stateliss는 상호 작용 상태가 얼마나 오래 기록되는지, 해당 정보가 어떤 식으로 저장되는지를 기준으로 구별할 수 있다.

## stateless
stateless 프로세스 또는 애플리케이션은 격리된 것으로 간주된다. 과거 트랜잭션에 대한 정보 또는 참조가 저장되지 않기 때문이다. 각 트랜잭션은 모두 처음부터 시작된다. stateless 애플리케이션은 하나의 서비스 또는 기능을 제공한다. 

## stateful
stateful은 이전 트랜잭션의 컨텍스트에 따라 수행되며, 현재 트랜잭션이 이전 트랙잭션에서 발생한 상황에 영향을 받는다. 이러한 이유로 stateful 애플리케이션은 사용자에게 받은 요청을 처리할 때마다 같은 서버를 사용한다.
컨택스트와 내역이 저장되므로 중단되어도 중단된 곳부터 다시 시작할 수 있다. 

## 컨테이너와 state
원래 컨테이너는 이식성이 높고 유연하다는 특성으로 인해 stateless로 구촉되었으나 컨테이너의 사용이 확산됨에 따라 사용자들이 기존 stateful 애플리케이션을 컨테이너화 하기 시작했다. stateful