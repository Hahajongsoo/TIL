도커 이미지를 레지스트리에서 다운로드/업로드 하거나 도커 컨테이너의 시작이나 정지를 하는 조작은 모두 docker 명령으로 수행한다. 따라서 명령 조작에 익숙해질 필요가 있다. 
# Docker 이미지 조작
도커 레지스트리에서 특정 레포지토리에 접근할 수 있다. 이미지의 경우 `이미지명:태그명` 의 형태로 접근한다. 
## 이미지 다운로드 `docker image pull`
```
docker image pull [옵션] 이미지명[:태그명]
```
- 태그명을 생락하면 latest를 취득한다. 
- `-a` 옵션을 주면 모든 태그 이미지를 취득한다. 
- 이미지 명에 이미지를 취득할 URL을 지정할 수도 있다. URL은 프로토콜을 제외하고 지정한다.
```
docker image pull gcr.io.tensorflow/tensorflow
```

## 이미지 목록 표시 `docker image ls`
취득한 이미지의 목록을 표시하기 위한 명령이다.
```
docker image ls [옵션] [리포지토리명]
```
- `-a` 옵션을 지정하면 중간 이미지도 모두 표시된다. 
- 레지스트리에 업로드한 이미지는 이미지를 고유하게 식별하기 위한 다이제스트가 부여된다. 다이제스트를 표시하고 싶을 때는 `--digest` 옵션을 설정한다.

## 이미지 상세 정보 확인 `docker image inspect`
```
docker image inspect 이미지이름
```
- 명령을 실행하면 결과는 JSON 형식으로 표시된다. 
- 특정 값을 취하고 싶을 때는 `--format` 옵션에서 JSON 형식 데이터의 계층 구조를 지정한다. 
```
[root@docker ~]# docker image inspect --format "{{ .Config.Cmd}}" centos:7
[/bin/bash]
[root@docker ~]# docker image inspect --format "{{ .Os}}" centos:7
linux

```

## 이미지 태그 설정 `docker image tag`
이미지에 표식이 되는 태그를 붙이려면 docker image tag 명령을 사용한다. 이미지 태그에는 식별하기 쉬운 버전명을 붙이는 것이 일반적이다. Docker Hub에 작성한 이미지를 등록하려면 다음과 같은 규칙으로 이미지에 사용자명을 붙여야한다.
```
<Docker Hub사용자명>/이미지명:태그명
```

```
[root@docker ~]# docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED         SIZE
httpd        latest    81a1863c7bda   2 days ago      145MB
centos       7         eeb6ee3f44bd   16 months ago   204MB
[root@docker ~]# docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED         SIZE
httpd        latest    81a1863c7bda   2 days ago      145MB
hajong/os    1.0       eeb6ee3f44bd   16 months ago   204MB
centos       7         eeb6ee3f44bd   16 months ago   204MB
[root@docker ~]# docker system  df
TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE
Images          2         1         349MB     145.1MB (41%)
Containers      1         1         38B       0B (0%)
Local Volumes   0         0         0B        0B
Build Cache     0         0         0B        0B

```

- 이미지의 ID가 동일한 것을 확이날 수 있다. 이미지에 별명을 붙일 뿐 이미지 자체를 복사하거나 이름을 바꾼 것이 아니다. 