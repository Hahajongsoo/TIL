웹서버가 하는 것은 HTML을 만드는 것이고 HTML에는 고정적인 부분과 그렇지 않은 부분이 있을 것이다. 기본적으로 고정되는 부분인 틀을 template이라고 한다. 그 안에 다른 내용들을 채워서 그때 마다 다른 결과를 내보내는 것

- template 패키지의 New() 로 해당 이름의 템플릿을 생성하고 Parse를 이용해서 어떻게 파싱할 것인지 틀과 내용을 지정한다. 
- 이후 리턴받은 템플릿의 Execute를 사용하여 어떤 writer에 어떤 데이터 인스턴스를 사용해서 파싱할지를 지정한다.

```go
package main

import (
	"os"
	"text/template"
)

type User struct {
	Name  string
	Email string
	Age   int
}

func main() {
	user := User{Name: "Jongsoo", Email: "gkwhdtn95051@gmail.com", Age: 29}
	user2 := User{Name: "Example", Email: "example@example.com", Age: 18}
	tmlp, err := template.New("Tml1").Parse("Name: {{.Name}}\nEmail: {{.Email}}\nAge: {{.Age}}\n")
	if err != nil {
		panic(err)
	}
	tmlp.Execute(os.Stdout, user)
	tmlp.Execute(os.Stdout, user2)
}

```


```
Name: Jongsoo
Email: gkwhdtn95051@gmail.com
Age: 29
Name: Example
Email: example@example.com
Age: 18
```

- 그때마다 템플릿을 만드는 것 보다는 템플릿을 생성해놓는다.  이때는 ParseFiles 를 사용한다. 
- 이때는 ExuteTemplate를 사용하고  ParseFiles에 넘겨준 파일 중에서 어떤 파일을 사용할 지 선택한다. 
```go
package main

import (
	"os"
	"text/template"
)

type User struct {
	Name  string
	Email string
	Age   int
}

func main() {
	user := User{Name: "Jongsoo", Email: "gkwhdtn95051@gmail.com", Age: 29}
	user2 := User{Name: "Example", Email: "example@example.com", Age: 18}
	tmpl, err := template.New("Tml1").ParseFiles("template/tmpl1.tmpl")
	if err != nil {
		panic(err)
	}
	tmpl.ExecuteTemplate(os.Stdout, "tmpl1.tmpl", user)
	tmpl.ExecuteTemplate(os.Stdout, "tmpl1.tmpl", user2)
}

```

- 함수를 사용할 수도 있다. 템플릿의 내용을 아래와 같이 수정하고 User structuer에 method를 추가한다. 

```
Name: {{.Name}}
Email: {{.Email}}
{{if .IsOld}}
OldAge: {{.Age}}
{{else}}
Age: {{.Age}}
{{end}}
```

```go
package main

import (
	"os"
	"text/template"
)

type User struct {
	Name  string
	Email string
	Age   int
}

func (u User) IsOld() bool {
	return u.Age > 30
}

func main() {
	user := User{Name: "Jongsoo", Email: "gkwhdtn95051@gmail.com", Age: 31}
	user2 := User{Name: "Example", Email: "example@example.com", Age: 18}
	tmpl, err := template.New("Tml1").ParseFiles("template/tmpl1.tmpl")
	if err != nil {
		panic(err)
	}
	tmpl.ExecuteTemplate(os.Stdout, "tmpl1.tmpl", user)
	tmpl.ExecuteTemplate(os.Stdout, "tmpl1.tmpl", user2)
}

```

