# DNS 동작 원리
1. 사용자가 웹  브라우저 주소 표시줄에 `www.example.com` 입력
2. `www.example.com` 에 대한 요청은 일반적으로 ISP가 관리하는 DNS 해석기로 전달
3. ISP의 DNS 해석기는 `www.example.com` 에 대한 요청을 DNS 루트 네임 서버에 전달
4. ISP의 DNS 해석기는 `www.example.com` 에 대한 요청을 `.com` 도메인의 TLD 이름 서버 중 하나에 다시 전달. `.com` 도메인의 이름 서버는 `example.com` 도메인과 연관된 4개의 Amazone Route 53 이름 서버의 이름을 사용하여 요청에 응답
5. ISP의 DNS 해석기는 Amazon Route 53 이름 서버 하나를 선택해 `www.example.com` 에 대한 요청을 해당 이름 서버에 전달
6. Amazon Route 53 이름 서버는 `example.com` 호스팅 영역에서 `www.example.com` 레코드를 찾아 웹 서버의 IP주소를 받고 이 주소를 DNS 해석기로 반환
7. ISP의 DNS 해석기가 사용자에게 필요한 IP 주소를 확보, 웹브라우저로 반환, 일정 기간동안 IP 주소를 캐싱
8. 웹 브라우저는 DNS 해석기로부터 얻은 IP 주소로 `www.example.com` 에 대한 요청을 전송
9. 해당 IP 주소에 있는 웹 서버 또는 그 밖의 리소스는 `www.example.com` 의 웹페이지를 웹 브라우저로 반환

# Amazon Route 53
- 가용성과 확장성이 우수한 클라우드 기반의 DNS 웹 서비스
- 사용자의 요청을 EC2 인스턴스, ELB, S3 Bucket 등 AWS에서 실행되는 다양한 인프라에 효과적으로 연결
- AWS 외부의 인프라로 전달하는 서비스도 Route 53 사용 가능

| 구분      | 내용                                                                                                                                                                                                                                                                                                                                                                                                                |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 서비스명  | Amazone Route 53                                                                                                                                                                                                                                                                                                                                                                                                    |
| 설명      | 가용성과 확정성이 우수한 클라우드 DNS 웹 서비스                                                                                                                                                                                                                                                                                                                                                                     |
| 주요 특징 | - 가용성과 확장성이 뛰어난 클라우드 DNS 웹 서비스 <br>- 동적으로 사용자에게 노출될 DNS 레코드 타입과 값 조정<br>- 각종 다양한 로드 밸런싱 기능 지원<br>- Amazon Route 53은 IPv6와 완벽하게 호환<br>- 사용자의 요청을 EC2, ELB, S3 등 인프라로 직접 연결 가능<br>- 외부 인프라로 라우팅 하는데 사용 가능<br>- Route 53 트래픽 흐름을 사용하면 지연 시간 기반 라우팅 가능<br>- Route 53에서는 도메인 이름 등록도 지원 |
| 프리티어  | 프리티어 없이 종량제 과금으로 사용하는 만큼 지불                                                                                                                                                                                                                                                                                                                                                                                                                    |

# 주요 기능
## Health checks and Failover
- health check 기능을 사용하면 상태확인 에이전트가 Route53에 연결된 각 엔드포인트를 모니터링하여 서비스의 사용 가능 여부 확인
- CloudWatch와 연동하여 각 상태 검사에 대해 메일 수신등의 알림 구성 가능
- Faliover가 구성되어 있고 에이전트가 정상이 아닌것으로 판단되면 외부 사용자를 정상적으로 연결 가능한 사전 정의된 대체 서버나 지정된 엔드포인트로 연결을 전환한다.
## High Availability DNS 및 DNS Failover
- 상태 검사와 연결된 장애 조치 레코드 구성가능
- 상태 검사에서 연결 상태가 비정상 상태가 반환되면 오류 복구 레코드 값에 대해 응답
- DNS Failover Record를 사용하여 외부 사용자를 응용 프로그램의 오류나 시스템 장애 상황시 미리 정의된 응용프로그램이나 정상적으로 도달 가능한 외부 리로스로 연결을 전환함
## Latency Based Routing
- 가장 지연 시간이 적은 리소스로 Route53에서 DNS 쿼리에 응답 처리하여 지연 시간 기반 라우팅 서비스를 제공
- 최저 지연 시간을 제공하는 엔드포인트로 라우팅을 제공, 일정 기간 동안 수행된 지연 시간 측정을 기반으로 함, 주기적 업데이트
## Weighted Round Robin Routing
- 사용자가 지정한 가중치 비율로 트래픽을 라우팅
## Geolocation Routing
- 요청이 시작된 지리적 위치를 기반으로 특정 엔드포인트에 대한 라우팅을 수행 