# 파일의 속성

## 파일 접근 권한 보호
- 기본적으로 리눅스는 멀티 유저 운영체제이다.
- 리눅스는 파일에 무단으로 접근하는 것을 방지하고 보호하는 기능을 제공
- 사용자는 자신의 파일과 디렉토리 중에서 다른 사용자가 접근해도 되는 것과 그렇지 않은 것을 구분하여 접근 권한을 제한

## 파일의 속성
```
[root@localhost ~]#ls -l /etc/hosts
-rw-r--r--. 1 root root 158 Jun  7  2013 /etc/hosts
```

| 번호 | 속성 값    | 의미                                           |
| ---- | ---------- | ---------------------------------------------- |
| 1    | -          | 파일의 종류                                    |
| 2    | rw-r--r--  | 파일을 읽고 쓰고 실행할 수 있는 접근 권한 표시 |
| 3    | 1          | 하드 링크의 개수                               |
| 4    | root       | 파일 소유자의 로그인 ID                        |
| 5    | root       | 파일 소유자의 그룹 이름                        |
| 6    | 158        | 파일의 크기(바이트 단위)                       |
| 7    | Jun 7 2013 | 파일이 마지막으로 수정된 날짜                  |
| 8    | /etc/hosts | 파일 명                                               |

### 파일의 종류
- 파일 속성의 첫 번째 항목은 파일의 종류를 표시
- `-`는 일반 파일을, `d`는 디렉토리를, `l`은 소프트링크를 의미
- 파일의 종류를 알려주는 명령: `file`

### 파일의 접근 권한 표시
- 파일의 소유자와 그룹이나 기타 사용자들이 파일에 대해 가지고 있는 접근 권한 표시

### 하드 링크의 개수
- 하드 링크는 한 파일에 대해 여러 개의 파일명을 가질 수 있도록 하는 기능

### 파일 소유자의 로그인 ID
- 리눅스에서 모든 파일은 소유자가 있음

### 파일 소유자의 그룹 이름
- 사용자가 속한 기본 그룹은 시스템 관리자가 사용자를 등록할 때 결정
- 사용자가 속한 그룹을 알려주는 명령
	- 주 그룹과 부 그룹을 출력한다.
	- `groups`
	- `id`
```
[root@localhost ~]#groups user
user : user wheel
```

```
[root@localhost ~]#id user
uid=1000(user) gid=1000(user) groups=1000(user),10(wheel)
```

### 접근 권한의 종류
- 읽기, 쓰기, 실행 세 가지 권한으로 구성

| 권한 | 파일                                                                    | 디렉토리                                |
| ---- | ----------------------------------------------------------------------- | --------------------------------------- |
| 읽기 | 파일을 읽거나 복사할 수 있다.                                           | ls 명령으로 디렉터리 목록을 볼 수 있다. |
| 쓰기 | 파일을 수정, 이동, 삭제할 수 있다.(디렉토리에 쓰기 권한이 있어야 한다.) | 파일을 생성하거나 삭제할 수 있다.       |
| 실행 | 파일을 실행할 수 있다.(셸 스크립트나 실행 파일의 경우)                  | cd 명령을 사용할 수 있다. 파일을 디렉토리로 이동하거나 복사할 수 있다.                                        |

#### 접근 권한의 표기 방법
- 사용자 카테고리 별로 누가 파일을 읽고 쓰,고 실행할 수 있는지를 문자로 표현한 것
- 읽기 권한은 r, 쓰기 권한은 w, 실행 권한은 x로 나타내며, 해당 권한이 없는 경우에는 -로 표기
- 사용자 카테고리 별로 세 가지 권한 부여 여부를 rwx 세 문자를 묶어서 표기
	- 소유자, 그룹, 기타 사용자의 순서임

#### 접근 권한의 변경 명령: chmod
- 기능: 파일이나 디렉토리의 접근 권한을 변경한다.
- 형식: `chmod [옵션] [권한 모드] [파일 또는 디렉토리]`
- 옵션
	- `-R`: 하위 디렉토리 까지 모두 변경할 수 있다.
- 기호 모드: 접근 권한을 변경하기 위해 문자와 기호를 사용하여 권한 표시
- 숫자 모드: 접근 권한을 변경하기 위해 숫자를 사용

##### 기호모드
- `chmod [사용자 카테고리 문자 + 연산자 기호 + 접근 권한 문자] [파일명]` 의 형태로 사용

| 구분                 | 의미                                                                                                      |
| -------------------- | --------------------------------------------------------------------------------------------------------- |
| 사용자 카테고리 문자 | - u: 파일소유자 <br>- g: 소유자가 속한 그룹 <br>- o: 소유자와 그룹 이외의 기타 사용자<br>- a: 전체 사용자 |
| 연산자 기호          | - +: 권한 부여<br> - -: 권한 제거<br> - =: 접근 권한 설정                                                 |
| 접근 권한 문자       | - r: 읽기 권한 <br>- w: 쓰기 권한 <br>- x: 실행 권한                                                                                                          |

##### 숫자 모드
- 숫자 모드에서는 각 권한의 위치 (`rwx`) 에 따라 권한이 있고 없음을 0과 1로 표기(2진수)한다. 이를 다시 환산하여 숫자(10진수)로 표현한다.
- 카테고리 별로 권한의 조합에 따라 0 부터 7(2^3 = 8 가지)로 나타내는 것
- 숫자의 각 위치가 사용자 카테고리를 나타내기 때문에 사용자 카테고리를 따로 지정할 필요가 없다.
- 항상 세 자리 수를 사용해야 하므로 변경하려는 사용자 카테고리의 권한뿐만 아니라 기타 사용자의 권한도 반드시 같이 명시