- 도커에는 다양한 네트워크가 있으며 네트워크에 따라 맞는 드라이버를 선택해야함
# 네트워크 유형
## 브릿지
- 브리지 드라이버를 사용하는 네트워크는 여러 개 사용할 수 있으며 docker network create를 사용한다. 
- 브리지는 컨테이너가 사용하는 프라이빗 네트워크이며, 같은 bridge에 연결되어 있으면 컨테이너의 IP 주소로 통신할 수 있다.
- 외부로 통신할 때에는 NAPT 통신을 사용하며, 외부에서 bridge로 통신하려면 포트포워딩을 사용해야한다.
- 도커를 설치하면 이름이 docker0인 리눅스 브릿지가 생성되는데, 이는 docker network ls 명령ㄹ의 출력에서 이름이 bridge인 네트워크와 동일하다.
- 이는 docker network inspect bridge로 확인 가능하다.
- 마지막 Options 섹션에 bridge 네트워크의 옵션들이 나열되어 있는데 그 중 연결되어 있는 브릿지는 docker0이라고 나와있다. 

![](images/캡처2%20(2).png)

## host
- 호스트에서 컨테이너의 네트워크 격리를 해제하여 호스트의 네트워크 정보를 공유해서 사용하는 방법
- 컨테이너는 호스트 입장에서  하나의 프로세스이기 때문에 가상머신과 다르게 네트워크 정보를 공유할 수 있다.
- 컨테이너가 해당 네트워크를 사용할 때 컨테이너의 포트가 호스트에서 사용하는 포트와 충돌해서는 안된다. 
- host로 지정하여 컨테이너를 띄우는 경우 inspect로 정보를 보면 ip address는 뜨지 않는다. 
- host 네트워크의 인스턴스는 하나만 가능하다. 
![](images/Pasted%20image%2020230208154827.png)

## null(none)
- 컨테이너의 네트워크 기능을 사용하지 않는다.

# 컨테이너 통신
## 링크
- 컨테이너끼릴 서로 통신하려면 기본적으로 같은 브릿지 드라이버 네트워크를 사용한다.
- 또한 종종 컨테이너 간 이름 또는 별칭으로 통신해야 하는 경우도 있는데 이런 경우 링크 기능을 사용
- `/etc/hosts`에 해당 내용을 추가하는 것이다. 
## 포트포워딩
- 외부에서 컨테이너로 통신시 포트포워딩이 필요하다.
- 컨테이너 시작시 `-p` 옵션으로 포트 매핑을 해주면 된다.